{% extends "layout.html" %}

{% block page_title %}Credentials{% endblock %}

{% block sidebar %}
    {% include "generic/sidebar.html" %}
{% endblock %}

{% block body %}
<div class="credentials-page">
    <h1>Credentials Management</h1>
    
    {% if user %}
    <div class="user-info">
        <h2>Your Account</h2>
        <dl>
            <dt>Email:</dt>
            <dd>{{ user.email }}</dd>
            
            {% if user.name %}
            <dt>Name:</dt>
            <dd>{{ user.name }}</dd>
            {% endif %}
            
            {% if user.preferred_username %}
            <dt>Username:</dt>
            <dd>{{ user.preferred_username }}</dd>
            {% endif %}
            
            <dt>Role:</dt>
            <dd>
                {% if user.is_admin %}
                    Administrator
                {% elif user.is_qa_reviewer %}
                    QA Reviewer
                {% else %}
                    User
                {% endif %}
            </dd>
        </dl>
    </div>
    
    {% if user.groups %}
    <div class="user-groups">
        <h3>Groups</h3>
        <ul>
            {% for group in user.groups %}
            <li>{{ group }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    
    <div class="actions">
        <h3>Actions</h3>
        <ul>
            <li><a href="/auth/logout" class="btn btn-secondary">Logout</a></li>
        </ul>
    </div>
    
    {% else %}
    <div class="not-logged-in">
        <p>You are not currently logged in.</p>
        <p><a href="/auth/login" class="btn btn-primary">Login</a> to manage your credentials.</p>
    </div>
    {% endif %}
</div>
{% endblock %}